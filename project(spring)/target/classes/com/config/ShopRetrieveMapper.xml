<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ShopRetrieveMapper">

	<insert id="insertReview" parameterType="ReviewDTO">
		insert into review('rvnum', 'rvContent', 'mName', 'rvWritedate', 'sCode')
		values(SEQ_REVIEWBOARD_RVNUM.nextval, #{reviewContent}, #{mName}, sysdate, #{sCode} )
	</insert>
	
<!-- 	(select sLike from shop where sCode=#{sCode}),
		(select sHate from shop where sCode=#{sCode}), -->

	<select id="reviewCheck" parameterType="ReviewDTO" resultType="ReviewDTO">
		select * from review
		where mName = #{mName} and sCode = #{sCode}
	</select>
	
	<select id="selectReview" parameterType="String" resultType="ReviewDTO">
		select * from review
		where sCode=#{sCode}
	</select>
	
	<insert id="likeScore" parameterType="String">
		insert into score (category, scode, good)
		values(#{category}, #{sCode}, 1)
	</insert>
	
	<insert id="hateScore" parameterType="String">
		insert into score (category, scode, bad)
		values(#{category}, #{sCode}, 1)
	</insert>
</mapper>